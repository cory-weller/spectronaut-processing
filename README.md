#

## Quick-start
Executing [`src/run.sh`](src/run.sh) runs the pipeline below; retrieving the singularity image (if necessary) and running the R script with test parameters.


## Retrieve singularity image
```bash
img='r-4.0'
id='77DD71E598E5B51B'
auth='AJdCAAZQQrCo9cc'
if [ ! -f ${img}.sif ]; then
    wget -O ${img}.sif \
        "https://onedrive.live.com/download?cid=${id}&resid=${id}%2124983&authkey=${auth}"
fi

# building the singularity image was done by executing the command:
# singularity build --remote src/${img}.sif src/${img}.singularity
# (after authorizing singularity remote builder)
```

## Run commands
```bash
pro_input='spe_Report_Proteins.csv' #the csv file of the protein groups quntification generated by SN
#pep_input='' #the csv file of the peptide intensity from the SN
project_name='test' #the name of this project
outdir='./' #output dir
design_matrix='design_matrix.csv' #csv file of design matrix for comparison
#normalization='' # 'T' or 'F'

singularity run -H $PWD:/home src/${sif} \
    Rscript src/spe_pro_pip.R \
    --pro_input ${pro_input} \
    -p ${project_name} \
    -o ${outdir} \
    --design_matrix ${design_matrix}
```

## TODO
any output directory other than './' doesn't work